!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.scour=n()}}(function(){return function n(t,r,e){function o(u,f){if(!r[u]){if(!t[u]){var c="function"==typeof require&&require;if(!f&&c)return c(u,!0);if(i)return i(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var s=r[u]={exports:{}};t[u][0].call(s.exports,function(n){var r=t[u][1][n];return o(r?r:n)},s,s.exports,n,t,r,e)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<e.length;u++)o(e[u]);return o}({1:[function(n,t){"use strict";function r(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n}function e(n,t){var r=this;return this instanceof e?(u(this,"data",n),u(this,"root",t&&t.root||this),u(this,"keypath",t&&t.keypath||[]),u(this,"extensions",t&&t.extensions||[]),void this.extensions.forEach(function(n){i(n,function(n,t){r[t]=n})})):new e(n,t)}var o=(n("object-assign"),n("sift")),i=n("./lib/each"),u=n("./lib/define_property");e.prototype={get:function(n){n=[].slice.apply(arguments).map(function(n){return""+n});var t=this.rget.apply(this,n);return this._get(t,n)},rget:function(n){var t=this.data;n=[].slice.apply(arguments);for(var r=0,e=arguments.length;e>r;r++)if(t=t[arguments[r]],!t)return;return t},_get:function(n,t){return"object"===("undefined"==typeof n?"undefined":r(n))?this.spawn(n,{keypath:this.keypath.concat(t)}):n},at:function(n){var t=this.keys()[n];return this._get(this.data[t],[t])},set:function(){},spawn:function(n,t){return new e(n||this.data,{root:t&&t.root||this.root,keypath:t&&t.keypath||this.keypath,extensions:this.extensions.concat(t&&t.extensions||[])})},each:function(n){var t=this;return i(this.data,function(r,e){n(t._get(r,[e]),e,r)}),this},map:function(n){var t=[];return this.each(function(r,e,o){t.push(n(r,e,o))}),t},len:function(){return Array.isArray(this.data)?this.data.length:this.keys().length},toArray:function(){return Array.isArray(this.data)?this.data:this.map(function(n){return n})},values:function(){return this.toArray()},keys:function(){return Object.keys(this.data)},where:function(n){var t=o(n,this.data);return this._get(t,[])},find:function(n){var t=o.keyOf(n,this.data);if("undefined"!=typeof t)return this._get(this.data[t],[t])},extend:function(n){return this.spawn(this.data,{extensions:[n]})}},t.exports=e},{"./lib/define_property":2,"./lib/each":3,"object-assign":4,sift:5}],2:[function(n,t){"use strict";var r;r=Object.defineProperty?function(n,t,r){Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}:function(n,t,r){n[t]=r},t.exports=r},{}],3:[function(n,t){"use strict";function r(n,t){var r,e,o=n.length;if("number"==typeof o)for(r=0;o>r;r++)t(n[r],r);else{e=0;for(r in n)n.hasOwnProperty(r)&&t(n[r],r,e++)}return n}t.exports=r},{}],4:[function(n,t){"use strict";function r(n){if(null===n||void 0===n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}var e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(n){for(var t,i,u=r(n),f=1;f<arguments.length;f++){t=Object(arguments[f]);for(var c in t)e.call(t,c)&&(u[c]=t[c]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(t);for(var a=0;a<i.length;a++)o.call(t,i[a])&&(u[i[a]]=t[i[a]])}}return u}},{}],5:[function(n,t){!function(){"use strict";function n(n){return"function"==typeof n}function r(n){return"[object Array]"===Object.prototype.toString.call(n)}function e(n){return n instanceof Date?n.getTime():n instanceof Array?n.map(e):n}function o(n){return function(t,e){if(!r(e)||!e.length)return n(t,e);for(var o=0,i=e.length;i>o;o++)if(n(t,e[o]))return!0;return!1}}function i(n){return function(t,e){if(!r(e)||!e.length)return n(t,e);for(var o=0,i=e.length;i>o;o++)if(!n(t,e[o]))return!1;return!0}}function u(n,t){return n.v(n.a,t)}function f(n,t){for(var r=0;r<n.length;r++)if(u(t,n[r]))return r;return-1}function c(n,t){return{a:n,v:t}}function a(n,t){var r=[];return s(t,n.k,0,r),1===r.length?u(n.nv,r[0]):!!~f(r,n.nv)}function s(n,t,e,o){if(e===t.length||void 0==n)return void o.push(n);if(r(n))for(var i=0,u=n.length;u>i;i++)s(n[i],t,e,o);else s(n[t[e]],t,e+1,o)}function p(n,t){return{a:{k:n,nv:t},v:a}}function h(n){n=e(n),(!n||"Object"!==n.constructor.toString()&&"functionObject(){[nativecode]}"!==n.constructor.toString().replace(/\n/g,"").replace(/ /g,""))&&(n={$eq:n});var t=[];for(var r in n){var o=n[r];if("$options"!==r)if(g[r])v[r]&&(o=v[r](o,n)),t.push(c(e(o),g[r]));else{if(36===r.charCodeAt(0))throw new Error("Unknown operation "+r);t.push(p(r.split("."),h(o)))}}return 1===t.length?t[0]:c(t,g.$and)}function l(n,t){var r=h(n);return t&&(r={a:r,v:function(n,r){return u(n,t(r))}}),r}function y(t,r,e){function o(n){return u(i,n)}n(r)&&(e=r,r=void 0);var i=l(t,e);return r?Array.isArray(r)?r.filter(o):d(r,o):o}function d(n,t){var r={};for(var e in n)if(n.hasOwnProperty(e)){var o=n[e];t(o)&&(r[e]=o)}return r}var g={$eq:o(function(n,t){return n(t)}),$ne:i(function(n,t){return!n(t)}),$or:function(n,t){for(var r=0,e=n.length;e>r;r++)if(u(n[r],t))return!0;return!1},$gt:o(function(n,t){return typeof e(t)==typeof n&&e(t)>n}),$gte:o(function(n,t){return typeof e(t)==typeof n&&e(t)>=n}),$lt:o(function(n,t){return typeof e(t)==typeof n&&e(t)<n}),$lte:o(function(n,t){return typeof e(t)==typeof n&&e(t)<=n}),$mod:o(function(n,t){return t%n[0]==n[1]}),$in:function(n,t){if(!(t instanceof Array))return!!~n.indexOf(e(t));for(var r=t.length;r--;)if(~n.indexOf(e(t[r])))return!0;return!1},$nin:function(n,t){return!g.$in(n,t)},$not:function(n,t){return!u(n,t)},$type:function(n,t){return void 0!=t?t instanceof n||t.constructor==n:!1},$all:function(n,t){t||(t=[]);for(var r=n.length;r--;)if(!~e(t).indexOf(n[r]))return!1;return!0},$size:function(n,t){return t?n===t.length:!1},$nor:function(n,t){for(var r=0,e=n.length;e>r;r++)if(u(n[r],t))return!1;return!0},$and:function(n,t){for(var r=0,e=n.length;e>r;r++)if(!u(n[r],t))return!1;return!0},$regex:o(function(n,t){return"string"==typeof t&&n.test(t)}),$where:function(n,t){return n.call(t,t)},$elemMatch:function(n,t){return r(t)?!!~f(t,n):u(n,t)},$exists:function(n,t){return void 0!=t===n}},v={$eq:function(n){return n instanceof RegExp?function(t){return"string"==typeof t&&n.test(t)}:n instanceof Function?n:r(n)&&!n.length?function(n){return r(n)&&!n.length}:null===n?function(n){return null==n}:function(t){return n===e(t)}},$ne:function(n){return v.$eq(n)},$and:function(n){return n.map(h)},$or:function(n){return n.map(h)},$nor:function(n){return n.map(h)},$not:function(n){return h(n)},$regex:function(n,t){return new RegExp(n,t.$options)},$where:function(n){return"string"==typeof n?new Function("obj","return "+n):n},$elemMatch:function(n){return h(n)},$exists:function(n){return!!n}};y.use=function(t){if(n(t))return t(y);for(var r in t)36===r.charCodeAt(0)&&(g[r]=t[r])},y.indexOf=function(n,t,r){return f(t,l(n,r))},y.keyOf=function(n,t,r){var e=l(n,r);for(var o in t)if(t.hasOwnProperty(o)&&u(e,t[o]))return o},"undefined"!=typeof t&&"undefined"!=typeof t.exports&&(t.exports=y),"undefined"!=typeof window&&(window.sift=y)}()},{}]},{},[1])(1)});